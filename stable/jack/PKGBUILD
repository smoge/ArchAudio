# Maintainer: Arch Linux Pro Audio <dev@archaudio.org>
# Contributor: Ray Rashif <schivmeister@gmail.com>

pkgname=jack
_pkgname=jack-audio-connection-kit
pkgver=0.118.0
pkgrel=1
pkgdesc="Jack Audio Connection Kit: A low-latency audio server"
arch=(i686 x86_64)
url="http://jackaudio.org/"
license=('GPL' 'LGPL')
groups=('archaudio-minimal' 'archaudio-suite')
depends=('libsamplerate')
makedepends=('doxygen' 'ffado' 'celt')
optdepends=('ffado: FireWire audio device support'
	    'celt: NetJACK driver CELT codec')
provides=("jack-audio-connection-kit=$pkgver")
conflicts=('jack-audio-connection-kit')
backup=(etc/conf.d/$pkgname)
options=('!libtool')
install=$pkgname.install
source=(http://jackaudio.org/downloads/$_pkgname-$pkgver.tar.gz
	jackconf
	jackinit)

build() {
  cd "$srcdir/$_pkgname-$pkgver"

  ./configure --prefix=/usr
  make || return 1
  make DESTDIR="$pkgdir/" install

  mv "$pkgdir/usr/share/$_pkgname" "$pkgdir/usr/share/$pkgname"

  install -Dm755 ../jackinit "$pkgdir/etc/rc.d/$pkgname"
  install -Dm644 ../jackconf "$pkgdir/etc/conf.d/$pkgname"
}
md5sums=('d58e29a55f285d54e75134cec8e02a10'
         '898f6540902c262ca1aa364c57f284f3'
         '6cd8a8a42a756d3ba0d4842bba171ca3')

# $Id: pkgbuild-mode.el,v 1.23 2007/10/20 16:02:14 juergen Exp $
# Maintainer: Arch Linux Pro Audio <dev@archaudio.org>
# Contributor: hm_b <holger at music-nerds.net>

pkgname=qutecsound  
pkgver=0.4.1
pkgrel=2
pkgdesc="a simple frontend for Csound featuring a highlighting editor with autocomplete, interactive widgets and integrated help"
url="http://qutecsound.sourceforge.net/"
arch=('i686')
license=('GPL')
depends=('csound5' 'qt')
makedepends=()
conflicts=()
replaces=()
backup=()
install=
source=(http://downloads.sourceforge.net/qutecsound/$pkgname-$pkgver-src.tar.gz qutecsound.desktop gcc44.diff)
md5sums=('fab67133d73e413a8984242339c6a01f' '9265277b5002e7ff12e89214d03d6f8d'\
         'bd96b9d8ae4a6013f3d43f47748f725d')
build() {
  cd $startdir/src/$pkgname-$pkgver
  patch -p0 < $startdir/gcc44.diff || return 1
  qmake "CONFIG += build64" || return 1
  install -d $pkgdir/usr/share/{qutecsound,pixmaps,applications}
  install -d $pkgdir/usr/bin
  make DESTDIR=$pkgdir/usr/bin TARGET=$pkgdir/usr/bin/qutecsound || return 1
  install -p $startdir/qutecsound.desktop $pkgdir/usr/share/applications/
  install -p images/qtcs.svg $pkgdir/usr/share/pixmaps/
  cp -R examples $pkgdir/usr/share/qutecsound/  
}

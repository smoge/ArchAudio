# Maintainer: Arch Linux Pro Audio <dev@archaudio.org>
# Contributor: thelucster
# Contributor: hm_b <holger <at> music-nerds.net>
pkgname=processing
pkgver=1.0.9
pkgrel=1
pkgdesc="programming language and environment for images, animation, and interactions"
arch=('i686' 'x86_64')
url="http://www.processing.org/"
license=('GPL' 'LGPL')
depends=('jdk' 'sh')
makedepends=('gif2png')
source=(http://www.processing.org/download/processing-$pkgver.tgz processing processing.desktop)
md5sums=('468bf107d388cc5fc6c62da3ddff16a1' '34160604caa718e84d51bfdc56d40556'\
         '78ef1b1a9917343467f4c0cdf4568267')

build() {

	cd $srcdir/processing-$pkgver
	# create directories
  	mkdir -p $pkgdir/usr/{share/{pixmaps,applications,java/processing},bin} || return 1
  
  	# install main stuff
	cp -R {examples,lib,libraries,reference,tools} $pkgdir/usr/share/java/processing || return 1
	
	# install launcher
	cp $startdir/processing $pkgdir/usr/bin/processing || return 1
  	chmod +x $pkgdir/usr/bin/processing || return 1
  	
  	# icon
	gif2png -O lib/export/loading.gif || return 1
	cp lib/export/loading.png $pkgdir/usr/share/pixmaps/processing.png || return 1
	
	# desktop entry
	cp ${startdir}/processing.desktop $pkgdir/usr/share/applications || return 1
}

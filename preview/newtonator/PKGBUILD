# Maintainer: SpepS <dreamspepser at yahoo dot it>

pkgname=newtonator
pkgver=0.5.0
pkgrel=1
pkgdesc="An LV2 soft synth that uses a unique algorithm based on simple ideas of velocity and acceleration to produce some unpredictable sounds."
arch=(i686 x86_64)
url="http://newtonator.sourceforge.net/"
license=('GPL3')
groups=('lv2-plugins')
depends=('gtkmm')
makedepends=('lv2-c++-tools')
source=("http://downloads.sourceforge.net/project/$pkgname/$pkgname-$pkgver.tar.gz")
md5sums=('a5a2eb7585825c3d60b1ebe788a9b141')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  # add -fPIC for x86_64
  [ "$CARCH" == 'x86_64' ] && _FPIC="-DCMAKE_CXX_FLAGS=-fPIC"

  [ -d build ] || mkdir build && cd build
  cmake .. -DCMAKE_INSTALL_PREFIX=/usr $_FPIC
  make
}

package() {
  cd "$srcdir/$pkgname-$pkgver/build"

  make DESTDIR="$pkgdir/" install
}

# vim:set ts=2 sw=2 et:
